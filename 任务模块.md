# “油炬智愿”项目计划 

## 1. 项目愿景与目标

* **项目名称：** 油炬智愿 —— 中国石油大学（北京）克拉玛依校区志愿服务平台
* **核心定位：** 一个以**前端展示效果**为重点，集活动发布、报名、时长记录、新闻资讯于一体的现代化志愿服务平台。
* **最终目标：** 在7月7日或之前，高质量交付一个**核心功能可演示**、界面美观、技术栈清晰的前后端分离Web应用。

## 2. 团队成员与任务分工

| 成员代号     | 负责领域         | 后端核心任务 (API实现)                                                            | 前端核心任务 (Vue页面开发)                                                                                                                     |
|:---------|:-------------|:--------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------|
| **同学 A** | **用户与认证模块**  | 1. 用户注册与登录接口 (JWT认证)<br>2. 获取/更新当前登录用户信息的接口                               | 1. **登录页** (`/login`)<br>2. **注册页** (`/register`)<br>3. **个人中心页** (`/profile`)                                                       |
| **同学 B** | **志愿活动模块**   | 1. 活动列表查询接口 (支持分页)<br>2. 单个活动详情查询接口<br>3. 用户报名/取消报名活动接口                   | 1. **活动广场页** (`/activities`)<br>2. **活动详情页** (`/activities/:id`)<br>3. 用户中心的“我的报名”列表                                                 |
| **同学 C** | **新闻与内容模块**  | 1. 新闻列表查询接口<br>2. 单个新闻详情查询接口<br>3. *（简化）* 新闻点赞/收藏状态更新接口                   | 1. **新闻资讯首页** (`/news`)<br>2. **新闻详情页** (`/news/:id`)<br>3. 简单的点赞/收藏交互按钮                                                             |
| **同学 D** | **后台管理核心**   | 1. (管理员)发布/编辑/删除活动的接口<br>2. (管理员)查看活动报名名单的接口<br>3. (管理员)手动为用户登记时长的接口      | 1. **后台-活动管理页** (`/admin/activities`)<br>2. **后台-报名详情页** (`/admin/activities/:id/enrollments`)<br>3. **后台-时长录入页** (`/admin/records`) |
| **同学 E** | **统筹、组织与数据** | 1. 组织部门的增删改查接口<br>2. **(统筹)** 负责数据库设计与脚本编写<br>3. **(统筹)** 负责项目环境问题协调与最终部署 | 1. **组织列表页** (`/organizations`)<br>2. **后台-数据看板页** (`/admin/dashboard`)<br>3. **(统筹)** 搭建Vue前端项目骨架                                   |

## 3. 核心协作流程

* **设计先行:** 数据库和API设计必须在编码前完成。
* **并行开发:** 前后端利用 Apifox 的 Mock 功能同时开工。
* **每日站会:** 建议每天晚上花15分钟开个线上短会，同步进度、暴露问题。
* **Git 规范:** 严格遵守功能分支工作流，**每天下班前必须将当天的代码 Push 到自己的远程功能分支**，以防代码丢失。

## 4. 冲刺阶段时间规划 (Deadline: 7月7日)

时间紧迫，我们将分为三个冲刺阶段。

|          阶段           | 时间范围                                | 核心任务                                                                                                                                  | 交付成果与里程碑                                              |
|:---------------------:|:------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------|
|  **阶段一<br>(设计与奠基)**   | **6月27日(周五) - 6月29日(周日)**<br>*(3天)* | 1. **全员:** 最终确认本方案与分工。<br>2. **同学E牵头:** 完成数据库设计，提交`V1__initial_schema.sql`。<br>3. **全员:** 在 Apifox 中完成自己所负责模块的**全部API接口定义**。          | **周日晚前，必须完成所有设计工作**。Apifox 成为可交付的“API契约文档”，数据库结构完全确定。 |
|  **阶段二<br>(核心功能编码)**  | **6月30日(周一) - 7月4日(周五)**<br>*(5天)*  | 1. **后端:** 全员完成各自负责的**后端API接口的核心逻辑**编码。<br>2. **同学E:** 搭建 Vue 3 + Vite 的前端项目骨架并推送。<br>3. **前端:** 全员使用 Mock 数据，完成各自**前端页面的布局和主要交互功能**。 | **周五晚前，所有成员基本完成自己模块的独立开发**。前后端可以开始进行初步的冒烟联调。          |
| **阶段三<br>(集成、测试与冲刺)** | **7月5日(周六) - 7月7日(周一)**<br>*(3天)*   | 1. **全员:** **高强度进行前后端接口联调**，解决对接问题。<br>2. 团队交叉测试，发现并快速修复 Bug。<br>3. 对核心页面进行 UI 美化和体验优化。<br>4. 准备演示材料。                                 | **7月7日晚，项目核心功能可流畅演示**，满足答辩要求。                         |

---

### **下一步行动建议：立即启动！**

**启动设计：** 会议结束后，立即开始**第一阶段**的工作。
    * **全员立即开始讨论数据库表结构。**
    * **同学 E** 准备接收讨论结果，编写 SQL 脚本。
    * **登录 Apifox**，熟悉界面，准备根据讨论结果设计 API。


简单来说，前后端的搭配，就像是\*\*“根据同一份建筑图纸，同时施工的两个工程队”\*\*。而这份“建筑图纸”，就是我们在 **Apifox** 里设计的 API 接口文档。

-----

### **实战演练：以“同学 A”的登录功能为例**

根据我们的分工，**同学 A** 负责“用户与认证模块”，我们来看看他具体是怎么做的：

#### **第一阶段：设计“图纸” (在 Apifox 中定义接口)**

这是所有工作开始前的第一步，也是最重要的“设计先行”阶段。

1.  **同学 A** 打开 Apifox，进入我们的项目。
2.  他根据任务，开始设计**登录接口**：
    * **请求路径：** `POST /api/login`
    * **请求体 (Body):** 他定义前端在登录时，**必须**发送一个 JSON 对象，格式如下：
      ```json
      {
        "username": "user1",
        "password": "password123"
      }
      ```
    * **响应体 (Response):** 他定义登录成功后，后端**必须**返回一个 JSON 对象，格式如下：
      ```json
      {
        "code": 200,
        "message": "登录成功",
        "data": {
          "token": "一个长长的加密字符串...",
          "userInfo": {
            "id": 1,
            "username": "user1",
            "role": "volunteer"
          }
        }
      }
      ```
3.  他将这个设计好的接口保存在 Apifox 中。**至此，“建筑图纸”就完成了。** 这份图纸就是前后端双方都必须遵守的\*\*“契约”\*\*。

#### **第二阶段：前后端“并行施工”，互不等待**

现在，神奇的事情发生了，前后端可以**同时开工**，完全不需要互相等待。

* **后端同学 A 的工作：**

    1.  他打开 IntelliJ IDEA，在 Spring Boot 项目里创建一个 `UserController`。
    2.  他创建一个处理登录请求的方法，并用注解标记它：`@PostMapping("/api/login")`。
    3.  他的任务就是**实现这份“契约”**：编写 Java 代码，接收前端发来的 `username` 和 `password`，去数据库里查询验证，如果验证通过，就生成一个 `token`，然后按照 Apifox 里约定的格式，把数据组装成 JSON 返回。

* **前端同学 A 的工作 (亮点在这里):**

    1.  他打开 VS Code，创建一个 `LoginPage.vue` 文件，开始用 Vue 3 写登录页面的 HTML 布局和 CSS 样式。
    2.  他需要调用登录接口，但他**不需要等后端写好**。他该怎么做？——使用 **Apifox 的 Mock Server (模拟服务器)** 功能。
    3.  在 Apifox 中，他只需要点击一下，就能为 `POST /api/login` 这个接口生成一个**模拟的 URL**。
    4.  在他的 Vue 代码里，当用户点击“登录”按钮时，他就让代码去请求这个**模拟 URL**。
    5.  Apifox 的 Mock Server 会**立即**返回一个和他当初在“响应体”里设计的**一模一样的假数据**，比如：
        ```json
        {
          "code": 200,
          "message": "登录成功",
          "data": { "token": "这是一个模拟的token...", "userInfo": "xxx"}
        }
        ```
    6.  这样，前端同学就可以**完全独立地**完成所有前端逻辑：比如接收到成功数据后，弹出“登录成功”的提示，将 `token` 保存起来，然后跳转到用户个人中心页面。整个登录流程的前端部分就全部开发完了。

#### **第三阶段：竣工验收 (前后端联调)**

几天后，后端同学 A 说：“我的真实登录接口已经写好并部署了！”

1.  前端同学 A 打开他的 Vue 代码。
2.  他只需要做**一个改动**：把请求的 URL 从 Apifox 的模拟 URL，改成真实的后端服务器 URL (例如 `http://localhost:8080/api/login`)。
3.  再次点击登录按钮。

**结果：** 因为双方从一开始就严格遵守了 Apifox 这份“图纸”（契约），所以数据格式完全匹配，登录流程一次性就成功了！如果出了问题，也能很快定位到是谁没有遵守图纸的约定。

-----

### **总结**

这个流程的核心优势在于：

* **解耦：** 前后端不再是“你等我，我等你”的线性关系。
* **并行：** 双方可以同时开发，大大缩短了项目周期。
* **契约驱动：** Apifox 的接口文档就是唯一的标准，减少了沟通成本和扯皮的可能。
* **前端独立：** 前端可以不依赖后端，独立完成所有页面的开发和交互逻辑。

这就是我们分工方案里“API 设计先行”和“并行开发”的真正含义。
